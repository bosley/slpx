; basic color support
(io/out


    (io/color/fg "#000000") ; black text
    (io/color/bg "#FFFF00") ; yellow background
    "This is black text on a yellow background."
    (io/color/reset)

    "\n\n"

    (io/color/fg "#FFFFFF") ; returns encoding for io/out 
    (io/color/bg "#000000") ; returns encoding for io/out 
    
    "This is white text on a black background."
    (io/color/reset)
    "\n\n\tThis is back to normal text.\n\n"
)

(io/flush)

(set prompt_int (fn (msg :S) :I
    (try
        (io/in/int msg)
        (do
            (putln "Invalid input. Please enter a valid integer.")
            (prompt_int msg)))))

(set prompt_real (fn (msg :S) :*
    (try
        (io/in/real msg)
        (do
            (putln "Invalid input. Please enter a valid real number.")
            (prompt_real msg)))))

(set name "")
(set age 0)
(set favorite_real 0.0)

(do
    (io/color/reset)
    (set name (io/in "Enter your name: "))
    (set age (prompt_int "Enter your age: "))
    (set favorite_real (prompt_real "Enter your favorite real number: "))
)

(putln "Hello, " name "! You are " age " years old.")


;   io/out                ; converts everything to a string, and then writes it to the console correctly as described above
;   io/out/set_precision  ; sets the precision for real numbers handling in io/out

;   io/in        ; string from user
(io/flush)
